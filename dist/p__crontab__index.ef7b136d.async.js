(self.webpackChunk=self.webpackChunk||[]).push([[6503],{73445:function(Oe,x,e){"use strict";var ue=e(68181),U=(0,ue.Z)({scriptUrl:["//at.alicdn.com/t/font_3354854_ds8pa06q1qa.js"]});x.Z=U},43516:function(Oe,x,e){"use strict";e.r(x);var ue=e(93303),U=e(40762),de=e(57310),k=e(83008),$=e(54598),s=e(189),E=e(72327),f=e(7335),D=e(68540),B=e(57836),c=e(72912),Z=e(73742),h=e(84263),p=e(65709),i=e(81615),P=e(28102),I=e(38815),_=e(42273),Se=e(53086),S=e(85141),y=e(12924),l=e.n(y),Ee=e(72002),ee=e(38557),fe=e(87920),_e=e(73174),Pe=e(11223),me=e(51487),d=e(5003),a=e(75664),M=e(54756),H=e(65276),F=e(6098),A=e(27077),z=e(1039),ae=e(1858),G=e(73445),w=S.Z.Text,Y=[{key:"log",tab:"\u65E5\u5FD7"},{key:"script",tab:"\u811A\u672C"}],ne={".py":"python",".js":"javascript",".sh":"shell",".ts":"typescript"},b=navigator.language||navigator.languages[0],K=R=>{var N,te,V,j=R.cron,L=j===void 0?{}:j,W=R.handleCancel,O=R.visible,C=R.theme,se=R.isPhone,pe=(0,y.useState)("log"),Te=(0,_.Z)(pe,2),re=Te[0],Ie=Te[1],at=(0,y.useState)(!0),Le=(0,_.Z)(at,2),nt=Le[0],Ke=Le[1],lt=(0,y.useState)([]),ve=(0,_.Z)(lt,2),st=ve[0],rt=ve[1],Q=(0,y.useState)(""),it=(0,_.Z)(Q,2),he=it[0],Fe=it[1],ot=(0,y.useState)(""),v=(0,_.Z)(ot,2),xe=v[0],Ce=v[1],ut=(0,y.useState)(!1),we=(0,_.Z)(ut,2),ct=we[0],Re=we[1],J=(0,y.useRef)(null),oe=(0,y.useState)({}),Ve=(0,_.Z)(oe,2),ge=Ve[0],ze=Ve[1],De=(0,y.useState)(""),Ne=(0,_.Z)(De,2),je=Ne[0],dt=Ne[1],We=(0,y.useState)(Y),$e=(0,_.Z)(We,2),Be=$e[0],Ye=$e[1],ke=(0,y.useState)({}),He=(0,_.Z)(ke,2),o=He[0],Me=He[1],Ge={log:l().createElement(I.ZP,{dataSource:st,loading:nt,renderItem:u=>l().createElement(I.ZP.Item,{className:"log-item",onClick:()=>Et(u)},l().createElement(Ee.Z,{style:{marginRight:10}}),u.directory,"/",u.filename)}),script:ge.filename&&l().createElement(ae.ZP,{language:ne[ge.filename.slice(-3)]||"",theme:C,value:xe,options:{fontSize:12,lineNumbersMinChars:3,fontFamily:"Source Code Pro",folding:!1,glyphMargin:!1,wordWrap:"on"},onMount:(u,ie)=>{J.current=u}})},Et=u=>{localStorage.setItem("logCron",o.id),dt("".concat(A.Z.apiPrefix,"logs/").concat(u.filename,"?path=").concat(u.directory||"")),F.W.get("".concat(A.Z.apiPrefix,"logs/").concat(u.filename,"?path=").concat(u.directory||"")).then(ie=>{Fe(ie.data),Re(!0)})},Je=u=>{Ie(u)},Ue=()=>{Ke(!0),F.W.get("".concat(A.Z.apiPrefix,"crons/").concat(L.id,"/logs")).then(u=>{u.code===200&&rt(u.data)}).finally(()=>Ke(!1))},_t=()=>{var u=L.command.split(" ");if(u[0]==="task"){Ye(Be),u[1].startsWith("/ql/data/scripts")&&(u[1]=u[1].replace("/ql/data/scripts/",""));var ie=u[1].split("/"),ye=(0,_.Z)(ie,2),le=ye[0],X=ye[1];X||(X=le,le=""),ze({parent:le,filename:X}),F.W.get("".concat(A.Z.apiPrefix,"scripts/").concat(X,"?path=").concat(le||"")).then(et=>{Ce(et.data)})}else Ye([Be[0]])},mt=()=>{i.Z.confirm({title:"\u786E\u8BA4\u4FDD\u5B58",content:l().createElement(l().Fragment,null,"\u786E\u8BA4\u4FDD\u5B58\u6587\u4EF6",l().createElement(w,{style:{wordBreak:"break-all"},type:"warning"},ge.filename)," ","\uFF0C\u4FDD\u5B58\u540E\u4E0D\u53EF\u6062\u590D"),onOk(){var u=J.current?J.current.getValue().replace(/\r\n/g,`
`):xe;return new Promise((ie,ye)=>{F.W.put("".concat(A.Z.apiPrefix,"scripts"),{data:{filename:ge.filename,path:ge.parent||"",content:u}}).then(le=>{le.code===200?(Ce(u),h.ZP.success("\u4FDD\u5B58\u6210\u529F")):h.ZP.error(le),ie(null)}).catch(le=>ye(le))})},onCancel(){console.log("Cancel")}})},Qe=()=>{i.Z.confirm({title:"\u786E\u8BA4\u8FD0\u884C",content:l().createElement(l().Fragment,null,"\u786E\u8BA4\u8FD0\u884C\u5B9A\u65F6\u4EFB\u52A1"," ",l().createElement(w,{style:{wordBreak:"break-all"},type:"warning"},o.name)," ","\u5417"),onOk(){F.W.put("".concat(A.Z.apiPrefix,"crons/run"),{data:[o.id]}).then(u=>{u.code===200?(Me((0,c.Z)((0,c.Z)({},o),{},{status:M.CrontabStatus.running})),setTimeout(()=>{Ue()},1e3)):h.ZP.error(u)})},onCancel(){console.log("Cancel")}})},vt=()=>{i.Z.confirm({title:"\u786E\u8BA4\u505C\u6B62",content:l().createElement(l().Fragment,null,"\u786E\u8BA4\u505C\u6B62\u5B9A\u65F6\u4EFB\u52A1"," ",l().createElement(w,{style:{wordBreak:"break-all"},type:"warning"},o.name)," ","\u5417"),onOk(){F.W.put("".concat(A.Z.apiPrefix,"crons/stop"),{data:[o.id]}).then(u=>{u.code===200?Me((0,c.Z)((0,c.Z)({},o),{},{status:M.CrontabStatus.idle})):h.ZP.error(u)})},onCancel(){console.log("Cancel")}})},Xe=()=>{i.Z.confirm({title:"\u786E\u8BA4".concat(o.isDisabled===1?"\u542F\u7528":"\u7981\u7528"),content:l().createElement(l().Fragment,null,"\u786E\u8BA4",o.isDisabled===1?"\u542F\u7528":"\u7981\u7528","\u5B9A\u65F6\u4EFB\u52A1"," ",l().createElement(w,{style:{wordBreak:"break-all"},type:"warning"},o.name)," ","\u5417"),onOk(){F.W.put("".concat(A.Z.apiPrefix,"crons/").concat(o.isDisabled===1?"enable":"disable"),{data:[o.id]}).then(u=>{u.code===200?Me((0,c.Z)((0,c.Z)({},o),{},{isDisabled:o.isDisabled===1?0:1})):h.ZP.error(u)})},onCancel(){console.log("Cancel")}})},gt=()=>{i.Z.confirm({title:"\u786E\u8BA4".concat(o.isPinned===1?"\u53D6\u6D88\u7F6E\u9876":"\u7F6E\u9876"),content:l().createElement(l().Fragment,null,"\u786E\u8BA4",o.isPinned===1?"\u53D6\u6D88\u7F6E\u9876":"\u7F6E\u9876","\u5B9A\u65F6\u4EFB\u52A1"," ",l().createElement(w,{style:{wordBreak:"break-all"},type:"warning"},o.name)," ","\u5417"),onOk(){F.W.put("".concat(A.Z.apiPrefix,"crons/").concat(o.isPinned===1?"unpin":"pin"),{data:[o.id]}).then(u=>{u.code===200?Me((0,c.Z)((0,c.Z)({},o),{},{isPinned:o.isPinned===1?0:1})):h.ZP.error(u)})},onCancel(){console.log("Cancel")}})},qe=()=>{var u,ie=J.current._domElement;(u=ie.parentElement)===null||u===void 0||u.requestFullscreen()};return(0,y.useEffect)(()=>{L&&L.id&&(Me(L),Ue(),_t())},[L]),l().createElement(i.Z,{title:l().createElement("div",{className:"crontab-title-wrapper"},l().createElement("div",null,l().createElement("span",null,o.name),((N=o.labels)===null||N===void 0?void 0:N.length)>0&&o.labels[0]!==""&&l().createElement(B.Z,{type:"vertical"}),((te=o.labels)===null||te===void 0?void 0:te.length)>0&&o.labels[0]!==""&&((V=o.labels)===null||V===void 0?void 0:V.map((u,ie)=>l().createElement(f.Z,{color:"blue",style:{marginRight:5}},u)))),l().createElement("div",{className:"operations"},l().createElement(k.Z,{title:o.status===M.CrontabStatus.idle?"\u8FD0\u884C":"\u505C\u6B62"},l().createElement(s.Z,{type:"link",icon:o.status===M.CrontabStatus.idle?l().createElement(ee.Z,null):l().createElement(fe.Z,null),size:"small",onClick:o.status===M.CrontabStatus.idle?Qe:vt})),l().createElement(k.Z,{title:o.isDisabled===1?"\u542F\u7528":"\u7981\u7528"},l().createElement(s.Z,{type:"link",icon:l().createElement(G.Z,{type:o.isDisabled===1?"ql-icon-enable":"ql-icon-disable"}),size:"small",onClick:Xe})),l().createElement(k.Z,{title:o.isPinned===1?"\u53D6\u6D88\u7F6E\u9876":"\u7F6E\u9876"},l().createElement(s.Z,{type:"link",icon:l().createElement(G.Z,{type:o.isPinned===1?"ql-icon-untop":"ql-icon-top"}),size:"small",onClick:gt})))),centered:!0,visible:O,forceRender:!0,footer:!1,onCancel:()=>W(),wrapClassName:"crontab-detail",width:se?"":"80vw"},l().createElement("div",{className:"card-wrapper"},l().createElement(U.Z,null,l().createElement("div",{className:"cron-detail-info-item"},l().createElement("div",{className:"cron-detail-info-title"},"\u4EFB\u52A1"),l().createElement("div",{className:"cron-detail-info-value"},o.command))),l().createElement(U.Z,{style:{marginTop:10}},l().createElement("div",{className:"cron-detail-info-item"},l().createElement("div",{className:"cron-detail-info-title"},"\u72B6\u6001"),l().createElement("div",{className:"cron-detail-info-value"},(!o.isDisabled||o.status!==M.CrontabStatus.idle)&&l().createElement(l().Fragment,null,o.status===M.CrontabStatus.idle&&l().createElement(f.Z,{icon:l().createElement(_e.Z,null),color:"default"},"\u7A7A\u95F2\u4E2D"),o.status===M.CrontabStatus.running&&l().createElement(f.Z,{icon:l().createElement(Pe.Z,{spin:!0}),color:"processing"},"\u8FD0\u884C\u4E2D"),o.status===M.CrontabStatus.queued&&l().createElement(f.Z,{icon:l().createElement(me.Z,null),color:"default"},"\u961F\u5217\u4E2D")),o.isDisabled===1&&o.status===M.CrontabStatus.idle&&l().createElement(f.Z,{icon:l().createElement(d.Z,null),color:"error"},"\u5DF2\u7981\u7528"))),l().createElement("div",{className:"cron-detail-info-item"},l().createElement("div",{className:"cron-detail-info-title"},"\u5B9A\u65F6"),l().createElement("div",{className:"cron-detail-info-value"},o.schedule)),l().createElement("div",{className:"cron-detail-info-item"},l().createElement("div",{className:"cron-detail-info-title"},"\u6700\u540E\u8FD0\u884C\u65F6\u95F4"),l().createElement("div",{className:"cron-detail-info-value"},o.last_execution_time?new Date(o.last_execution_time*1e3).toLocaleString(b,{hour12:!1}).replace(" 24:"," 00:"):"-")),l().createElement("div",{className:"cron-detail-info-item"},l().createElement("div",{className:"cron-detail-info-title"},"\u6700\u540E\u8FD0\u884C\u65F6\u957F"),l().createElement("div",{className:"cron-detail-info-value"},o.last_running_time?(0,H.E)(o.last_running_time):"-")),l().createElement("div",{className:"cron-detail-info-item"},l().createElement("div",{className:"cron-detail-info-title"},"\u4E0B\u6B21\u8FD0\u884C\u65F6\u95F4"),l().createElement("div",{className:"cron-detail-info-value"},o.nextRunTime&&o.nextRunTime.toLocaleString(b,{hour12:!1}).replace(" 24:"," 00:")))),l().createElement(U.Z,{style:{marginTop:10},tabList:Be,activeTabKey:re,onTabChange:u=>{Je(u)},tabBarExtraContent:re==="script"&&l().createElement(l().Fragment,null,l().createElement(s.Z,{type:"primary",style:{marginRight:8},onClick:mt},"\u4FDD\u5B58"),l().createElement(s.Z,{type:"primary",icon:l().createElement(a.Z,null),onClick:qe}))},Ge[re])),l().createElement(z.default,{visible:ct,handleCancel:()=>{Re(!1)},cron:L,data:he,logUrl:je}))};x.default=K},54756:function(Oe,x,e){"use strict";e.r(x),e.d(x,{CrontabStatus:function(){return Q}});var ue=e(74582),U=e(48401),de=e(36600),k=e(81051),$=e(54598),s=e(189),E=e(64690),f=e(62786),D=e(53178),B=e(40441),c=e(73742),Z=e(84263),h=e(65709),p=e(81615),i=e(42273),P=e(56457),I=e(40971),_=e(72912),Se=e(57310),S=e(83008),y=e(4543),l=e(53871),Ee=e(72327),ee=e(7335),fe=e(94068),_e=e(42061),Pe=e(53086),me=e(85141),d=e(12924),a=e.n(d),M=e(67096),H=e(73174),F=e(11223),A=e(51487),z=e(5003),ae=e(38557),G=e(87920),w=e(40493),Y=e(36531),ne=e(69731),b=e(50333),K=e(27478),R=e(77062),N=e(6410),te=e(95592),V=e(48487),j=e(52902),L=e(88079),W=e(27077),O=e(6582),C=e(6098),se=e(10730),pe=e(1039),Te=e(43516),re=e(38041),Ie=e.n(re),at=e(65276),Le=e(81216),nt=e(19250),Ke=e(82104),lt=e(25472),ve=me.Z.Text,st=me.Z.Paragraph,rt=_e.Z.Search,Q;(function(v){v[v.running=0]="running",v[v.idle=1]="idle",v[v.disabled=2]="disabled",v[v.queued=3]="queued"})(Q||(Q={}));var it={0:0,5:1,3:2,1:3,4:4},he;(function(v){v[v.\u542F\u7528=0]="\u542F\u7528",v[v.\u7981\u7528=1]="\u7981\u7528",v[v.\u8FD0\u884C=2]="\u8FD0\u884C",v[v.\u505C\u6B62=3]="\u505C\u6B62",v[v.\u7F6E\u9876=4]="\u7F6E\u9876",v[v.\u53D6\u6D88\u7F6E\u9876=5]="\u53D6\u6D88\u7F6E\u9876"})(he||(he={}));var Fe;(function(v){v[v.enable=0]="enable",v[v.disable=1]="disable",v[v.run=2]="run",v[v.stop=3]="stop",v[v.pin=4]="pin",v[v.unpin=5]="unpin"})(Fe||(Fe={}));var ot=v=>{var xe=v.headerStyle,Ce=v.isPhone,ut=v.theme,we=[{title:"\u540D\u79F0",dataIndex:"name",key:"name",width:150,align:"center",render:(t,n)=>{var r,m;return a().createElement(a().Fragment,null,a().createElement("a",{onClick:()=>{Ea(n)}},((r=n.labels)===null||r===void 0?void 0:r.length)>0&&n.labels[0]!==""?a().createElement(l.Z,{placement:"right",trigger:Ce?"click":"hover",content:a().createElement("div",null,(m=n.labels)===null||m===void 0?void 0:m.map(g=>a().createElement(ee.Z,{color:"blue",style:{cursor:"point"},onClick:T=>{T.stopPropagation(),At("label:".concat(g))}},a().createElement("a",null,g))))},n.name||"-"):n.name||"-",n.isPinned?a().createElement("span",null,a().createElement(M.Z,null)):""))},sorter:{compare:(t,n)=>{var r;return t==null||(r=t.name)===null||r===void 0?void 0:r.localeCompare(n==null?void 0:n.name)}}},{title:"\u547D\u4EE4",dataIndex:"command",key:"command",width:250,align:"center",render:(t,n)=>a().createElement(st,{style:{wordBreak:"break-all",marginBottom:0,textAlign:"left"},ellipsis:{tooltip:t,rows:2}},t),sorter:{compare:(t,n)=>t.command.localeCompare(n.command)}},{title:"\u5B9A\u65F6\u89C4\u5219",dataIndex:"schedule",key:"schedule",width:110,align:"center",sorter:{compare:(t,n)=>t.schedule.localeCompare(n.schedule)}},{title:"\u6700\u540E\u8FD0\u884C\u65F6\u95F4",align:"center",width:150,sorter:{compare:(t,n)=>t.last_execution_time-n.last_execution_time},render:(t,n)=>{var r=navigator.language||navigator.languages[0];return a().createElement("span",{style:{display:"block"}},n.last_execution_time?new Date(n.last_execution_time*1e3).toLocaleString(r,{hour12:!1}).replace(" 24:"," 00:"):"-")}},{title:"\u6700\u540E\u8FD0\u884C\u65F6\u957F",align:"center",width:120,sorter:{compare:(t,n)=>t.last_running_time-n.last_running_time},render:(t,n)=>n.last_running_time?(0,at.E)(n.last_running_time):"-"},{title:"\u4E0B\u6B21\u8FD0\u884C\u65F6\u95F4",align:"center",width:150,sorter:{compare:(t,n)=>t.nextRunTime-n.nextRunTime},render:(t,n)=>{var r=navigator.language||navigator.languages[0];return n.nextRunTime.toLocaleString(r,{hour12:!1}).replace(" 24:"," 00:")}},{title:"\u72B6\u6001",key:"status",dataIndex:"status",align:"center",width:85,filters:[{text:"\u8FD0\u884C\u4E2D",value:0},{text:"\u7A7A\u95F2\u4E2D",value:1},{text:"\u5DF2\u7981\u7528",value:2},{text:"\u961F\u5217\u4E2D",value:3}],onFilter:(t,n)=>n.isDisabled&&n.status!==0?t===2:n.status===t,render:(t,n)=>a().createElement(a().Fragment,null,(!n.isDisabled||n.status!==Q.idle)&&a().createElement(a().Fragment,null,n.status===Q.idle&&a().createElement(ee.Z,{icon:a().createElement(H.Z,null),color:"default"},"\u7A7A\u95F2\u4E2D"),n.status===Q.running&&a().createElement(ee.Z,{icon:a().createElement(F.Z,{spin:!0}),color:"processing"},"\u8FD0\u884C\u4E2D"),n.status===Q.queued&&a().createElement(ee.Z,{icon:a().createElement(A.Z,null),color:"default"},"\u961F\u5217\u4E2D")),n.isDisabled===1&&n.status===Q.idle&&a().createElement(ee.Z,{icon:a().createElement(z.Z,null),color:"error"},"\u5DF2\u7981\u7528"))},{title:"\u64CD\u4F5C",key:"action",align:"center",width:100,render:(t,n,r)=>{var m=!Ce;return a().createElement(I.Z,{size:"middle"},n.status===Q.idle&&a().createElement(S.Z,{title:m?"\u8FD0\u884C":""},a().createElement("a",{onClick:g=>{g.stopPropagation(),ga(n,r)}},a().createElement(ae.Z,null))),n.status!==Q.idle&&a().createElement(S.Z,{title:m?"\u505C\u6B62":""},a().createElement("a",{onClick:g=>{g.stopPropagation(),fa(n,r)}},a().createElement(G.Z,null))),a().createElement(S.Z,{title:m?"\u65E5\u5FD7":""},a().createElement("a",{onClick:g=>{g.stopPropagation(),ie((0,_.Z)((0,_.Z)({},n),{},{timestamp:Date.now()}))}},a().createElement(w.Z,null))),a().createElement(Ma,{key:"more",record:n,index:r}))}}],ct=(0,d.useState)([]),Re=(0,i.Z)(ct,2),J=Re[0],oe=Re[1],Ve=(0,d.useState)(!0),ge=(0,i.Z)(Ve,2),ze=ge[0],De=ge[1],Ne=(0,d.useState)(!1),je=(0,i.Z)(Ne,2),dt=je[0],We=je[1],$e=(0,d.useState)(!1),Be=(0,i.Z)($e,2),Ye=Be[0],ke=Be[1],He=(0,d.useState)(),o=(0,i.Z)(He,2),Me=o[0],Ge=o[1],Et=(0,d.useState)(""),Je=(0,i.Z)(Et,2),Ue=Je[0],_t=Je[1],mt=(0,d.useState)(!1),Qe=(0,i.Z)(mt,2),vt=Qe[0],Xe=Qe[1],gt=(0,d.useState)(),qe=(0,i.Z)(gt,2),u=qe[0],ie=qe[1],ye=(0,d.useState)([]),le=(0,i.Z)(ye,2),X=le[0],et=le[1],zt=(0,d.useState)({}),Dt=(0,i.Z)(zt,2),ce=Dt[0],ft=Dt[1],Nt=(0,d.useState)(),Mt=(0,i.Z)(Nt,2),q=Mt[0],Pt=Mt[1],jt=(0,d.useState)(),Zt=(0,i.Z)(jt,2),$t=Zt[0],Ot=Zt[1],Yt=(0,d.useState)(!1),pt=(0,i.Z)(Yt,2),kt=pt[0],ht=pt[1],Ht=(0,d.useState)(),Bt=(0,i.Z)(Ht,2),Gt=Bt[0],Jt=Bt[1],Qt=(0,d.useState)(""),yt=(0,i.Z)(Qt,2),Xt=yt[0],At=yt[1],qt=(0,d.useState)(),St=(0,i.Z)(qt,2),Tt=St[0],ea=St[1],ta=(0,d.useState)(!1),It=(0,i.Z)(ta,2),aa=It[0],Lt=It[1],na=(0,d.useState)(!1),Ft=(0,i.Z)(na,2),la=Ft[0],Rt=Ft[1],sa=(0,d.useState)([]),Wt=(0,i.Z)(sa,2),ra=Wt[0],ia=Wt[1],oa=(0,d.useState)([]),Ut=(0,i.Z)(oa,2),Ze=Ut[0],ua=Ut[1],ca=(0,d.useState)(!1),bt=(0,i.Z)(ca,2),Kt=bt[0],da=bt[1],Ea=t=>{var n=t.command.split(" ");if(n[0]==="task"){n[1].startsWith("/ql/data/scripts")&&(n[1]=n[1].replace("/ql/data/scripts/",""));var r=n[1].split("/"),m=(0,i.Z)(r,2),g=m[0],T=m[1];T||(T=g,g=""),nt.m.push("/script?p=".concat(g,"&s=").concat(T))}else n[1]==="repo"&&(location.href=n[2])},tt=()=>{De(!0);var t=ce.page,n=ce.size,r=ce.sorter,m="".concat(W.Z.apiPrefix,"crons?searchValue=").concat(Ue,"&page=").concat(t,"&size=").concat(n);r&&r.field&&(m+="&sortField=".concat(r.field,"&sortType=").concat(r.order==="ascend"?"ASC":"DESC")),q&&(m+="&queryString=".concat(JSON.stringify({filters:q.filters,sorts:q.sorts}))),C.W.get(m).then(g=>{var T=g.data,be=T.data,Ra=T.total;oe(be.map(Vt=>(0,_.Z)((0,_.Z)({},Vt),{},{nextRunTime:Ie().parseExpression(Vt.schedule).next().toDate()}))),ea(Ra)}).finally(()=>De(!1))},_a=()=>{Ge(null),We(!0)},ma=(t,n)=>{Ge(t),We(!0)},va=(t,n)=>{p.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:a().createElement(a().Fragment,null,"\u786E\u8BA4\u5220\u9664\u5B9A\u65F6\u4EFB\u52A1"," ",a().createElement(ve,{style:{wordBreak:"break-all"},type:"warning"},t.name)," ","\u5417"),onOk(){C.W.delete("".concat(W.Z.apiPrefix,"crons"),{data:[t.id]}).then(r=>{if(r.code===200){Z.ZP.success("\u5220\u9664\u6210\u529F");var m=[...J],g=m.findIndex(T=>T.id===t.id);g!==-1&&(m.splice(g,1),oe(m))}else Z.ZP.error(r)})},onCancel(){console.log("Cancel")}})},ga=(t,n)=>{p.Z.confirm({title:"\u786E\u8BA4\u8FD0\u884C",content:a().createElement(a().Fragment,null,"\u786E\u8BA4\u8FD0\u884C\u5B9A\u65F6\u4EFB\u52A1"," ",a().createElement(ve,{style:{wordBreak:"break-all"},type:"warning"},t.name)," ","\u5417"),onOk(){C.W.put("".concat(W.Z.apiPrefix,"crons/run"),{data:[t.id]}).then(r=>{if(r.code===200){var m=[...J],g=m.findIndex(T=>T.id===t.id);g!==-1&&(m.splice(g,1,(0,_.Z)((0,_.Z)({},t),{},{status:Q.running})),oe(m))}else Z.ZP.error(r)})},onCancel(){console.log("Cancel")}})},fa=(t,n)=>{p.Z.confirm({title:"\u786E\u8BA4\u505C\u6B62",content:a().createElement(a().Fragment,null,"\u786E\u8BA4\u505C\u6B62\u5B9A\u65F6\u4EFB\u52A1"," ",a().createElement(ve,{style:{wordBreak:"break-all"},type:"warning"},t.name)," ","\u5417"),onOk(){C.W.put("".concat(W.Z.apiPrefix,"crons/stop"),{data:[t.id]}).then(r=>{if(r.code===200){var m=[...J],g=m.findIndex(T=>T.id===t.id);g!==-1&&(m.splice(g,1,(0,_.Z)((0,_.Z)({},t),{},{pid:null,status:Q.idle})),oe(m))}else Z.ZP.error(r)})},onCancel(){console.log("Cancel")}})},Pa=(t,n)=>{p.Z.confirm({title:"\u786E\u8BA4".concat(t.isDisabled===1?"\u542F\u7528":"\u7981\u7528"),content:a().createElement(a().Fragment,null,"\u786E\u8BA4",t.isDisabled===1?"\u542F\u7528":"\u7981\u7528","\u5B9A\u65F6\u4EFB\u52A1"," ",a().createElement(ve,{style:{wordBreak:"break-all"},type:"warning"},t.name)," ","\u5417"),onOk(){C.W.put("".concat(W.Z.apiPrefix,"crons/").concat(t.isDisabled===1?"enable":"disable"),{data:[t.id]}).then(r=>{if(r.code===200){var m=t.isDisabled===1?0:1,g=[...J],T=g.findIndex(be=>be.id===t.id);T!==-1&&(g.splice(T,1,(0,_.Z)((0,_.Z)({},t),{},{isDisabled:m})),oe(g))}else Z.ZP.error(r)})},onCancel(){console.log("Cancel")}})},Ca=(t,n)=>{p.Z.confirm({title:"\u786E\u8BA4".concat(t.isPinned===1?"\u53D6\u6D88\u7F6E\u9876":"\u7F6E\u9876"),content:a().createElement(a().Fragment,null,"\u786E\u8BA4",t.isPinned===1?"\u53D6\u6D88\u7F6E\u9876":"\u7F6E\u9876","\u5B9A\u65F6\u4EFB\u52A1"," ",a().createElement(ve,{style:{wordBreak:"break-all"},type:"warning"},t.name)," ","\u5417"),onOk(){C.W.put("".concat(W.Z.apiPrefix,"crons/").concat(t.isPinned===1?"unpin":"pin"),{data:[t.id]}).then(r=>{if(r.code===200){var m=t.isPinned===1?0:1,g=[...J],T=g.findIndex(be=>be.id===t.id);T!==-1&&(g.splice(T,1,(0,_.Z)((0,_.Z)({},t),{},{isPinned:m})),oe(g))}else Z.ZP.error(r)})},onCancel(){console.log("Cancel")}})},Da=t=>[{label:"\u7F16\u8F91",key:"edit",icon:a().createElement(Y.Z,null)},{label:t.isDisabled===1?"\u542F\u7528":"\u7981\u7528",key:"enableOrDisable",icon:t.isDisabled===1?a().createElement(ne.Z,null):a().createElement(b.Z,null)},{label:"\u5220\u9664",key:"delete",icon:a().createElement(K.Z,null)},{label:t.isPinned===1?"\u53D6\u6D88\u7F6E\u9876":"\u7F6E\u9876",key:"pinOrUnPin",icon:t.isPinned===1?a().createElement(b.Z,null):a().createElement(M.Z,null)}],Ma=t=>{var n=t.record,r=t.index;return a().createElement(f.Z,{arrow:{pointAtCenter:!0},placement:"bottomRight",trigger:["click"],overlay:a().createElement(B.Z,{items:Da(n),onClick:m=>{var g=m.key,T=m.domEvent;T.stopPropagation(),Za(g,n,r)}})},a().createElement("a",{onClick:m=>m.stopPropagation()},a().createElement(R.Z,null)))},Za=(t,n,r)=>{switch(t){case"edit":ma(n,r);break;case"enableOrDisable":Pa(n,r);break;case"delete":va(n,r);break;case"pinOrUnPin":Ca(n,r);break;default:break}},Oa=t=>{We(!1),t&&ha(t)},pa=t=>{_t(t.trim())},ha=t=>{var n=J.findIndex(m=>m.id===t.id),r=[...J];t.nextRunTime=Ie().parseExpression(t.schedule).next().toDate(),n===-1?r.unshift(t):r.splice(n,1,(0,_.Z)({},t)),oe(r)},Ba=t=>{C.W.get("".concat(W.Z.apiPrefix,"crons/").concat(t.id)).then(n=>{var r=J.findIndex(g=>g.id===t.id),m=[...J];n.data.nextRunTime=Ie().parseExpression(n.data.schedule).next().toDate(),r!==-1&&(m.splice(r,1,(0,_.Z)((0,_.Z)({},t),n.data)),oe(m))}).finally(()=>De(!1))},ya=t=>{et(t),setTimeout(()=>{(X.length===0||t.length===0)&&Ot((0,Le.W9)())})},Aa={selectedRowIds:X,onChange:ya},Sa=()=>{p.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:a().createElement(a().Fragment,null,"\u786E\u8BA4\u5220\u9664\u9009\u4E2D\u7684\u5B9A\u65F6\u4EFB\u52A1\u5417"),onOk(){C.W.delete("".concat(W.Z.apiPrefix,"crons"),{data:X}).then(t=>{t.code===200?(Z.ZP.success("\u6279\u91CF\u5220\u9664\u6210\u529F"),et([]),tt()):Z.ZP.error(t)})},onCancel(){console.log("Cancel")}})},Ae=t=>{p.Z.confirm({title:"\u786E\u8BA4".concat(he[t]),content:a().createElement(a().Fragment,null,"\u786E\u8BA4",he[t],"\u9009\u4E2D\u7684\u5B9A\u65F6\u4EFB\u52A1\u5417"),onOk(){C.W.put("".concat(W.Z.apiPrefix,"crons/").concat(Fe[t]),{data:X}).then(n=>{n.code===200?tt():Z.ZP.error(n)})},onCancel(){console.log("Cancel")}})},Ta=(t,n,r)=>{var m=t.current,g=t.pageSize;ft({page:m,size:g,sorter:r}),localStorage.setItem("pageSize",String(g))},Ia=(t,n)=>t.isPinned?"pinned-cron cron":"cron";(0,d.useEffect)(()=>{u&&(localStorage.setItem("logCron",u.id),Xe(!0))},[u]),(0,d.useEffect)(()=>{ft((0,_.Z)((0,_.Z)({},ce),{},{page:1}))},[Ue]),(0,d.useEffect)(()=>{ce.page&&ce.size&&tt()},[ce,q]),(0,d.useEffect)(()=>{if(q&&Ze&&Ze.length>0){var t=Ze.slice(2).find(n=>n.id===q.id);da(!!t)}},[q,Ze]),(0,d.useEffect)(()=>{ft({page:1,size:parseInt(localStorage.getItem("pageSize")||"20"),sorter:{}}),setTimeout(()=>{Ot((0,Le.W9)())}),Ct()},[]);var xt=a().createElement(a().Fragment,null,X.length>0&&a().createElement("div",{style:{marginBottom:16}},a().createElement(s.Z,{type:"primary",style:{marginBottom:5},onClick:Sa},"\u6279\u91CF\u5220\u9664"),a().createElement(s.Z,{type:"primary",onClick:()=>Ae(0),style:{marginLeft:8,marginBottom:5}},"\u6279\u91CF\u542F\u7528"),a().createElement(s.Z,{type:"primary",onClick:()=>Ae(1),style:{marginLeft:8,marginRight:8}},"\u6279\u91CF\u7981\u7528"),a().createElement(s.Z,{type:"primary",style:{marginRight:8},onClick:()=>Ae(2)},"\u6279\u91CF\u8FD0\u884C"),a().createElement(s.Z,{type:"primary",onClick:()=>Ae(3)},"\u6279\u91CF\u505C\u6B62"),a().createElement(s.Z,{type:"primary",onClick:()=>Ae(4),style:{marginLeft:8,marginRight:8}},"\u6279\u91CF\u7F6E\u9876"),a().createElement(s.Z,{type:"primary",onClick:()=>Ae(5),style:{marginLeft:8,marginRight:8}},"\u6279\u91CF\u53D6\u6D88\u7F6E\u9876"),a().createElement(s.Z,{type:"primary",onClick:()=>ke(!0),style:{marginLeft:8,marginRight:8}},"\u6279\u91CF\u4FEE\u6539\u6807\u7B7E"),a().createElement("span",{style:{marginLeft:8}},"\u5DF2\u9009\u62E9",a().createElement("a",null,X==null?void 0:X.length),"\u9879")),a().createElement(k.Z,{columns:we,pagination:{current:ce.page,pageSize:ce.size,showSizeChanger:!0,simple:Ce,total:Tt,showTotal:(t,n)=>"\u7B2C ".concat(n[0],"-").concat(n[1]," \u6761/\u603B\u5171 ").concat(t," \u6761"),pageSizeOptions:[10,20,50,100,200,500,Tt||1e4].sort((t,n)=>t-n)},onRow:t=>({onClick:n=>{Jt(t),ht(!0)}}),dataSource:J,rowKey:"id",size:"middle",scroll:{x:1e3,y:$t},loading:ze,rowSelection:Aa,rowClassName:Ia,onChange:Ta})),La=t=>{switch(t){case"new":Lt(!0);break;case"manage":Rt(!0);break;default:wt(t);break}},Fa=a().createElement(B.Z,{onClick:t=>{var n=t.key,r=t.domEvent;r.stopPropagation(),La(n)},items:[...[...Ze].slice(2).map(t=>({label:a().createElement(I.Z,{style:{display:"flex",justifyContent:"space-between"}},a().createElement("span",null,t.name),(q==null?void 0:q.id)===t.id&&a().createElement(N.Z,{style:{color:"#1890ff"}})),key:t.id,icon:a().createElement(te.Z,null)})),{type:"divider"},{label:"\u65B0\u5EFA\u89C6\u56FE",key:"new",icon:a().createElement(V.Z,null)},{label:"\u89C6\u56FE\u7BA1\u7406",key:"manage",icon:a().createElement(j.Z,null)}]}),Ct=()=>{De(!0),C.W.get("".concat(W.Z.apiPrefix,"crons/views")).then(t=>{ia(t.data),ua(t.data.filter(n=>!n.isDisabled))}).finally(()=>{De(!1)})},wt=t=>{var n=Ze.find(r=>r.id==t);Pt(n||null)};return a().createElement(O.ZP,{className:"ql-container-wrapper crontab-wrapper ql-container-wrapper-has-tab",title:"\u5B9A\u65F6\u4EFB\u52A1",extra:[a().createElement(rt,{placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0\u6216\u8005\u5173\u952E\u8BCD",style:{width:"auto"},enterButton:!0,allowClear:!0,loading:ze,value:Xt,onChange:t=>At(t.target.value),onSearch:pa}),a().createElement(s.Z,{key:"2",type:"primary",onClick:()=>_a()},"\u65B0\u5EFA\u4EFB\u52A1")],header:{style:xe}},a().createElement(U.Z,{defaultActiveKey:"all",size:"small",tabPosition:"top",className:"crontab-view ".concat(Kt?"more-active":""),tabBarExtraContent:a().createElement(f.Z,{overlay:Fa,trigger:["click"],overlayStyle:{minWidth:200}},a().createElement("div",{className:"view-more ".concat(Kt?"active":"")},a().createElement(I.Z,null,"\u66F4\u591A",a().createElement(L.Z,null)),a().createElement("div",{className:"ant-tabs-ink-bar ant-tabs-ink-bar-animated"}))),onTabClick:wt},a().createElement(U.Z.TabPane,{tab:"\u5168\u90E8\u4EFB\u52A1",key:"all"},xt),[...Ze].slice(0,2).map(t=>a().createElement(U.Z.TabPane,{tab:t.name,key:t.id},xt))),a().createElement(pe.default,{visible:vt,handleCancel:()=>{Ba(u),Xe(!1)},cron:u}),a().createElement(se.default,{visible:dt,handleCancel:Oa,cron:Me}),a().createElement(se.CronLabelModal,{visible:Ye,handleCancel:t=>{ke(!1),t&&tt()},ids:X}),a().createElement(Te.default,{visible:kt,handleCancel:()=>{ht(!1)},cron:Gt,theme:ut,isPhone:Ce}),a().createElement(Ke.default,{visible:aa,handleCancel:t=>{Lt(!1),Ct(),t&&t.id===q.id&&Pt((0,_.Z)((0,_.Z)({},q),t))}}),a().createElement(lt.default,{cronViews:ra,visible:la,handleCancel:()=>{Rt(!1)},cronViewChange:t=>{Ct(),t&&t.id===q.id&&Pt((0,_.Z)((0,_.Z)({},q),t))}}))};x.default=ot},1039:function(Oe,x,e){"use strict";e.r(x);var ue=e(65709),U=e(81615),de=e(54598),k=e(189),$=e(73742),s=e(84263),E=e(42273),f=e(71786),D=e(30301),B=e(12924),c=e.n(B),Z=e(6098),h=e(27077),p=e(11223),i=e(69731),P=e(59060),I;(function(S){S[S.running=0]="running",S[S.idle=1]="idle",S[S.disabled=2]="disabled",S[S.queued=3]="queued"})(I||(I={}));var _=D.Z.Countdown,Se=S=>{var y=S.cron,l=S.handleCancel,Ee=S.visible,ee=S.data,fe=S.logUrl,_e=(0,B.useState)("\u542F\u52A8\u4E2D..."),Pe=(0,E.Z)(_e,2),me=Pe[0],d=Pe[1],a=(0,B.useState)(!0),M=(0,E.Z)(a,2),H=M[0],F=M[1],A=(0,B.useState)(!0),z=(0,E.Z)(A,2),ae=z[0],G=z[1],w=(0,B.useState)(!1),Y=(0,E.Z)(w,2),ne=Y[0],b=Y[1],K=(0,B.useState)(""),R=(0,E.Z)(K,2),N=R[0],te=R[1],V=W=>{W&&F(!0),Z.W.get(fe||"".concat(h.Z.apiPrefix,"crons/").concat(y.id,"/log")).then(O=>{if(localStorage.getItem("logCron")===String(y.id)){var C=O.data;d(C||"\u6682\u65E0\u65E5\u5FD7"),G(C&&!C.includes("\u6267\u884C\u7ED3\u675F")&&!C.includes("\u91CD\u542F\u9762\u677F")),C&&!C.includes("\u6267\u884C\u7ED3\u675F")&&!C.includes("\u91CD\u542F\u9762\u677F")&&setTimeout(()=>{V()},2e3),C&&C.includes("\u91CD\u542F\u9762\u677F")&&y.status===I.running&&(s.ZP.warning({content:c().createElement("span",null,"\u7CFB\u7EDF\u5C06\u5728",c().createElement(_,{className:"inline-countdown",format:"ss",value:Date.now()+1e3*30}),"\u79D2\u540E\u81EA\u52A8\u5237\u65B0"),duration:10}),setTimeout(()=>{window.location.reload()},3e4))}}).finally(()=>{W&&F(!1)})},j=()=>{localStorage.removeItem("logCron"),l()},L=()=>c().createElement(c().Fragment,null,(ae||H)&&c().createElement(p.Z,{spin:!0}),!ae&&!H&&c().createElement(i.Z,null),c().createElement("span",{style:{marginLeft:5}},y&&y.name));return(0,B.useEffect)(()=>{y&&y.id&&Ee&&V(!0)},[y,Ee]),(0,B.useEffect)(()=>{ee&&d(ee)},[ee]),(0,B.useEffect)(()=>{b(document.body.clientWidth<768)},[]),c().createElement(U.Z,{title:L(),visible:Ee,centered:!0,className:"log-modal",bodyStyle:{minHeight:"300px"},forceRender:!0,onOk:()=>j(),onCancel:()=>j(),footer:[c().createElement(k.Z,{type:"primary",onClick:()=>j()},"\u77E5\u9053\u4E86")]},H?c().createElement(P.Z,null):c().createElement("pre",{style:ne?{fontFamily:"Source Code Pro",width:375,zoom:.83}:{}},me))};x.default=Se},10730:function(Oe,x,e){"use strict";e.r(x),e.d(x,{CronLabelModal:function(){return me},default:function(){return Pe}});var ue=e(54598),U=e(189),de=e(65709),k=e(81615),$=e(94068),s=e(42061),E=e(57113),f=e(73742),D=e(84263),B=e(72912),c=e(82005),Z=e(68476),h=e(69583),p=e(42273),i=e(12924),P=e.n(i),I=e(6098),_=e(27077),Se=e(38041),S=e.n(Se),y=e(72327),l=e(7335),Ee=e(72820),ee=e(48487),fe=d=>{var a=d.value,M=d.onChange,H=(0,i.useState)(""),F=(0,p.Z)(H,2),A=F[0],z=F[1],ae=(0,i.useState)(!1),G=(0,p.Z)(ae,2),w=G[0],Y=G[1],ne=(0,i.useState)([]),b=(0,p.Z)(ne,2),K=b[0],R=b[1],N=(0,i.useRef)(),te=O=>{var C=K.filter(se=>se!==O);R(C),M==null||M(C)},V=()=>{Y(!0)},j=O=>{z(O.target.value)},L=()=>{A&&!K.includes(A)&&(R([...K,A]),M==null||M([...K,A])),Y(!1),z("")},W=K.map(O=>{var C=P().createElement(l.Z,{closable:!0,onClose:se=>{se.preventDefault(),te(O)}},O);return P().createElement("span",{key:O,style:{display:"inline-block",marginBottom:8}},C)});return(0,i.useEffect)(()=>{w&&N&&N.current.focus()},[w]),(0,i.useEffect)(()=>{a&&R(a)},[a]),P().createElement(P().Fragment,null,P().createElement(Ee.Z,{enter:{scale:.8,opacity:0,type:"from",duration:100},leave:{opacity:0,width:0,scale:0,duration:200},appear:!1},W),w&&P().createElement(s.Z,{ref:N,type:"text",size:"small",style:{width:78},value:A,onChange:j,onBlur:L,onPressEnter:L}),!w&&P().createElement(l.Z,{onClick:V,style:{borderStyle:"dashed",cursor:"pointer"}},P().createElement(ee.Z,null)," \u65B0\u5EFA"))},_e=fe,Pe=d=>{var a=d.cron,M=d.handleCancel,H=d.visible,F=h.Z.useForm(),A=(0,p.Z)(F,1),z=A[0],ae=(0,i.useState)(!1),G=(0,p.Z)(ae,2),w=G[0],Y=G[1],ne=function(){var b=(0,c.Z)((0,E.Z)().mark(function K(R){var N,te,V,j,L;return(0,E.Z)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return Y(!0),N=a?"put":"post",te=(0,B.Z)({},R),a&&(te.id=a.id),O.prev=4,O.next=7,I.W[N]("".concat(_.Z.apiPrefix,"crons"),{data:te});case 7:V=O.sent,j=V.code,L=V.data,j===200?D.ZP.success(a?"\u66F4\u65B0Cron\u6210\u529F":"\u65B0\u5EFACron\u6210\u529F"):D.ZP.error(L),Y(!1),M(L),O.next=18;break;case 15:O.prev=15,O.t0=O.catch(4),Y(!1);case 18:case"end":return O.stop()}},K,null,[[4,15]])}));return function(R){return b.apply(this,arguments)}}();return(0,i.useEffect)(()=>{z.resetFields()},[a,H]),P().createElement(k.Z,{title:a?"\u7F16\u8F91\u4EFB\u52A1":"\u65B0\u5EFA\u4EFB\u52A1",visible:H,forceRender:!0,centered:!0,maskClosable:!1,onOk:()=>{z.validateFields().then(b=>{ne(b)}).catch(b=>{console.log("Validate Failed:",b)})},onCancel:()=>M(),confirmLoading:w},P().createElement(h.Z,{form:z,layout:"vertical",name:"form_in_modal",initialValues:a},P().createElement(h.Z.Item,{name:"name",label:"\u540D\u79F0"},P().createElement(s.Z,{placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0"})),P().createElement(h.Z.Item,{name:"command",label:"\u547D\u4EE4",rules:[{required:!0,whitespace:!0}]},P().createElement(s.Z.TextArea,{rows:4,autoSize:!0,placeholder:"\u8BF7\u8F93\u5165\u8981\u6267\u884C\u7684\u547D\u4EE4"})),P().createElement(h.Z.Item,{name:"schedule",label:"\u5B9A\u65F6\u89C4\u5219",rules:[{required:!0},{validator:(b,K)=>!K||S().parseExpression(K).hasNext()?Promise.resolve():Promise.reject("Cron\u8868\u8FBE\u5F0F\u683C\u5F0F\u6709\u8BEF")}]},P().createElement(s.Z,{placeholder:"\u79D2(\u53EF\u9009) \u5206 \u65F6 \u5929 \u6708 \u5468"})),P().createElement(h.Z.Item,{name:"labels",label:"\u6807\u7B7E"},P().createElement(_e,null))))},me=d=>{var a=d.ids,M=d.handleCancel,H=d.visible,F=h.Z.useForm(),A=(0,p.Z)(F,1),z=A[0],ae=(0,i.useState)(!1),G=(0,p.Z)(ae,2),w=G[0],Y=G[1],ne=function(){var K=(0,c.Z)((0,E.Z)().mark(function R(N){return(0,E.Z)().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:z.validateFields().then(function(){var j=(0,c.Z)((0,E.Z)().mark(function L(W){var O,C,se,pe;return(0,E.Z)().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return Y(!0),O={ids:a,labels:W.labels},re.next=4,I.W[N]("".concat(_.Z.apiPrefix,"crons/labels"),{data:O});case 4:C=re.sent,se=C.code,pe=C.data,se===200?D.ZP.success(N==="post"?"\u6DFB\u52A0Labels\u6210\u529F":"\u5220\u9664Labels\u6210\u529F"):D.ZP.error(pe),Y(!1),M(!0);case 10:case"end":return re.stop()}},L)}));return function(L){return j.apply(this,arguments)}}()).catch(j=>{console.log("Validate Failed:",j)});case 1:case"end":return V.stop()}},R)}));return function(N){return K.apply(this,arguments)}}();(0,i.useEffect)(()=>{z.resetFields()},[a,H]);var b=[P().createElement(U.Z,{onClick:()=>M(!1)},"\u53D6\u6D88"),P().createElement(U.Z,{type:"primary",danger:!0,onClick:()=>ne("delete")},"\u5220\u9664"),P().createElement(U.Z,{type:"primary",onClick:()=>ne("post")},"\u6DFB\u52A0")];return P().createElement(k.Z,{title:"\u6279\u91CF\u4FEE\u6539\u6807\u7B7E",visible:H,footer:b,centered:!0,maskClosable:!1,forceRender:!0,onCancel:()=>M(!1),confirmLoading:w},P().createElement(h.Z,{form:z,layout:"vertical",name:"form_in_label_modal"},P().createElement(h.Z.Item,{name:"labels",label:"\u6807\u7B7E"},P().createElement(_e,null))))}},65276:function(Oe,x,e){"use strict";e.d(x,{E:function(){return ue}});function ue(U){var de=U*1e3,k=Math.floor(de/(24*3600*1e3)),$=de%(24*3600*1e3),s=Math.floor($/(3600*1e3)),E=$%(3600*1e3),f=Math.floor(E/(60*1e3)),D=E%(60*1e3),B=Math.round(D/1e3),c=B+"\u79D2";return f>0&&(c=f+"\u5206"+c),s>0&&(c=s+"\u5C0F\u65F6"+c),k>0&&(c=k+"\u5929"+c),c}},81216:function(Oe,x,e){"use strict";e.d(x,{ZP:function(){return ue},W9:function(){return U},w7:function(){return k}});function ue(){var $=navigator.userAgent.toLowerCase(),s=_=>_.test($),E=_=>($.match(_)||[]).toString().replace(/[^0-9|_.]/g,"").replace(/_/g,"."),f="unknow";s(/windows|win32|win64|wow32|wow64/g)?f="windows":s(/macintosh|macintel/g)?f="macos":s(/x11/g)?f="linux":s(/android|adr/g)?f="android":s(/ios|iphone|ipad|ipod|iwatch/g)&&(f="ios");var D="unknow";f==="windows"?s(/windows nt 5.0|windows 2000/g)?D="2000":s(/windows nt 5.1|windows xp/g)?D="xp":s(/windows nt 5.2|windows 2003/g)?D="2003":s(/windows nt 6.0|windows vista/g)?D="vista":s(/windows nt 6.1|windows 7/g)?D="7":s(/windows nt 6.2|windows 8/g)?D="8":s(/windows nt 6.3|windows 8.1/g)?D="8.1":s(/windows nt 10.0|windows 10/g)&&(D="10"):f==="macos"?D=E(/os x [\d._]+/g):f==="android"?D=E(/android [\d._]+/g):f==="ios"&&(D=E(/os [\d._]+/g));var B="unknow";f==="windows"||f==="macos"||f==="linux"?B="desktop":(f==="android"||f==="ios"||s(/mobile/g))&&(B="mobile");var c="unknow",Z="unknow";s(/applewebkit/g)?(c="webkit",s(/edge/g)?Z="edge":s(/opr/g)?Z="opera":s(/chrome/g)?Z="chrome":s(/safari/g)&&(Z="safari")):s(/gecko/g)&&s(/firefox/g)?(c="gecko",Z="firefox"):s(/presto/g)?(c="presto",Z="opera"):s(/trident|compatible|msie/g)&&(c="trident",Z="iexplore");var h="unknow";c==="webkit"?h=E(/applewebkit\/[\d._]+/g):c==="gecko"?h=E(/gecko\/[\d._]+/g):c==="presto"?h=E(/presto\/[\d._]+/g):c==="trident"&&(h=E(/trident\/[\d._]+/g));var p="unknow";Z==="chrome"?p=E(/chrome\/[\d._]+/g):Z==="safari"?p=E(/version\/[\d._]+/g):Z==="firefox"?p=E(/firefox\/[\d._]+/g):Z==="opera"?p=E(/opr\/[\d._]+/g):Z==="iexplore"?p=E(/(msie [\d._]+)|(rv:[\d._]+)/g):Z==="edge"&&(p=E(/edge\/[\d._]+/g));var i="none",P="unknow";s(/micromessenger/g)?(i="wechat",P=E(/micromessenger\/[\d._]+/g)):s(/qqbrowser/g)?(i="qq",P=E(/qqbrowser\/[\d._]+/g)):s(/ucbrowser/g)?(i="uc",P=E(/ucbrowser\/[\d._]+/g)):s(/qihu 360se/g)?i="360":s(/2345explorer/g)?(i="2345",P=E(/2345explorer\/[\d._]+/g)):s(/metasr/g)?i="sougou":s(/lbbrowser/g)?i="liebao":s(/maxthon/g)&&(i="maxthon",P=E(/maxthon\/[\d._]+/g));var I=Object.assign({engine:c,engineVs:h,platform:B,supporter:Z,supporterVs:p,system:f,systemVs:D},i==="none"?{}:{shell:i,shellVs:P});return console.log(`%c
 .d88b.  d888888b d8b   db  d888b  db       .d88b.  d8b   db  d888b  
.8P  Y8.   \`88'   888o  88 88' Y8b 88      .8P  Y8. 888o  88 88' Y8b 
88    88    88    88V8o 88 88      88      88    88 88V8o 88 88      
88    88    88    88 V8o88 88  ooo 88      88    88 88 V8o88 88  ooo 
\`8P  d8'   .88.   88  V888 88. ~8~ 88booo. \`8b  d8' 88  V888 88. ~8~ 
 \`Y88'Y8 Y888888P VP   V8P  Y888P  Y88888P  \`Y88P'  VP   V8P  Y888P  
                                                                     
                                                                     
`,"color: blue;font-size: 14px;"),console.log(`%c\u5FD8\u5F62\u96E8\u7B20\u70DF\u84D1\uFF0C\u77E5\u5FC3\u7267\u5531\u6A35\u6B4C\u3002\u660E\u6708\u6E05\u98CE\u5171\u6211\uFF0C\u95F2\u4EBA\u4E09\u4E2A\uFF0C\u4ECE\u4ED6\u4ECA\u53E4\u6D88\u78E8\u3002
`,"color: yellow;font-size: 18px;"),console.log(`%c\u9752\u9F99\u8FD0\u884C\u73AF\u5883:

\u7CFB\u7EDF\uFF1A`.concat(I.system,"/").concat(I.systemVs,`
\u6D4F\u89C8\u5668\uFF1A`).concat(I.supporter,"/").concat(I.supporterVs,`
\u5185\u6838\uFF1A`).concat(I.engine,"/").concat(I.engineVs),"color: green;font-size: 14px;font-weight: bold;"),I}function U(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=$.extraHeight,E=$.id;typeof s=="undefined"&&(s=99);var f=null;E?f=document.getElementById(E)?document.getElementById(E).getElementsByClassName("ant-table-thead")[0]:null:f=document.querySelector(".ant-table-wrapper");var D=0;f&&(D=f.getBoundingClientRect().top);var B=document.body.clientHeight-D-s;return B}function de($){var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),$.dispatchEvent(s)}function k($,s){var E=window.URL||window.webkitURL||window,f=new Blob([s]),D=document.createElementNS("http://www.w3.org/1999/xhtml","a");D.href=E.createObjectURL(f),D.download=$,de(D)}},91394:function(){}}]);
