"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1717],{32948:function(U,x,e){var F=e(45968),s=(0,F.Z)({scriptUrl:["//at.alicdn.com/t/font_3354854_ds8pa06q1qa.js"]});x.Z=s},68133:function(U,x,e){e.r(x),e.d(x,{default:function(){return de}});var F=e(30279),s=e.n(F),l=e(46686),y=e.n(l),r=e(63313),z=e(24416),A=e(76857),B=e(71571),D=e(16043),i=e(32948),t=e(11527),p={route:{routes:[{name:"\u767B\u5F55",path:"/login",hideInMenu:!0,component:"@/pages/login/index"},{name:"\u521D\u59CB\u5316",path:"/initialization",hideInMenu:!0,component:"@/pages/initialization/index"},{name:"\u9519\u8BEF",path:"/error",hideInMenu:!0,component:"@/pages/error/index"},{path:"/crontab",name:"\u5B9A\u65F6\u4EFB\u52A1",icon:(0,t.jsx)(i.Z,{type:"ql-icon-crontab"}),component:"@/pages/crontab/index"},{path:"/subscription",name:"\u8BA2\u9605\u7BA1\u7406",icon:(0,t.jsx)(i.Z,{type:"ql-icon-subs"}),component:"@/pages/subscription/index"},{path:"/env",name:"\u73AF\u5883\u53D8\u91CF",icon:(0,t.jsx)(i.Z,{type:"ql-icon-env"}),component:"@/pages/env/index"},{path:"/config",name:"\u914D\u7F6E\u6587\u4EF6",icon:(0,t.jsx)(i.Z,{type:"ql-icon-config"}),component:"@/pages/config/index"},{path:"/script",name:"\u811A\u672C\u7BA1\u7406",icon:(0,t.jsx)(i.Z,{type:"ql-icon-script"}),component:"@/pages/script/index"},{path:"/dependence",name:"\u4F9D\u8D56\u7BA1\u7406",icon:(0,t.jsx)(i.Z,{type:"ql-icon-dependence"}),component:"@/pages/dependence/index"},{path:"/log",name:"\u65E5\u5FD7\u7BA1\u7406",icon:(0,t.jsx)(i.Z,{type:"ql-icon-log"}),component:"@/pages/log/index"},{path:"/diff",name:"\u5BF9\u6BD4\u5DE5\u5177",icon:(0,t.jsx)(i.Z,{type:"ql-icon-diff"}),component:"@/pages/diff/index"},{path:"/setting",name:"\u7CFB\u7EDF\u8BBE\u7F6E",icon:(0,t.jsx)(D.Z,{}),component:"@/pages/password/index"}]},navTheme:"light",fixSiderbar:!0,contentWidth:"Fixed",splitMenus:!1,siderWidth:180},c=e(72440),m=e(14880),g=e(98376),S=e(50741),E=e(82670),h=e(19452),j=e(28608),L=e(86563),W=e.n(L),M=e(4355),I=e(67411),P=e(67265),N=e(48414),R=e(89724),Q=e(45650),ae=e(78078),oe=e.n(ae),se=e(75779),re=e(4869),ie=e(478),ue=e(99246),le=e(30555);function ce(){ie.S({dsn:"https://3406424fb1dc4813a62d39e844a9d0ac@o1098464.ingest.sentry.io/6122818",integrations:[new ue.jK.gE({shouldCreateSpanForRequest:function(u){return!u.includes("/api/ws")&&!u.includes("/api/static")}})],release:M.i8,tracesSampleRate:.1,beforeBreadcrumb:function(u,K){if(u.data&&u.data.url){var T=u.data.url.replace(/token=.*/,"");u.data.url=T}return u}}),le._m.config({paths:{vs:"https://cdn.staticfile.org/monaco-editor/0.33.0/min/vs"},"vs/nls":{availableLanguages:{"*":"zh-cn"}}})}var Pe=e(75466),Re=e(41720),Oe=e(89670);function de(){var v=(0,c.TH)(),u=(0,I.e)(),K=(0,I.F)(),T=K.theme,$=K.reloadTheme,fe=(0,r.useState)({}),G=y()(fe,2),d=G[0],me=G[1],ge=(0,r.useState)(!0),H=y()(ge,2),J=H[0],V=H[1],he=(0,r.useState)(),X=y()(he,2),C=X[0],ve=X[1],O=(0,r.useRef)(null),pe=(0,r.useState)(),Y=y()(pe,2),Se=Y[0],xe=Y[1],Ee=(0,r.useState)(!1),b=y()(Ee,2),Ce=b[0],w=b[1],Fe=(0,r.useState)(!0),q=y()(Fe,2),ye=q[0],je=q[1],Z=B||{},Me=Z.enable,_=Z.disable,Ue=Z.exportGeneratedCSS,Te=Z.setFetchMethod,De=Z.auto,Ze=function(){j.W.post("".concat(h.Z.apiPrefix,"user/logout")).then(function(){localStorage.removeItem(h.Z.authKey),c.m8.push("/login")})},Ae=function(){j.W.get("".concat(h.Z.apiPrefix,"system")).then(function(n){var o=n.code,f=n.data;o===200&&(ve(f),f.isInitialized?k():c.m8.push("/initialization"))}).catch(function(n){console.log(n)}).finally(function(){return je(!1)})},k=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;n&&V(!0),j.W.get("".concat(h.Z.apiPrefix,"user")).then(function(o){var f=o.code,ne=o.data;f===200&&ne.username&&(me(ne),v.pathname==="/"&&c.m8.push("/crontab")),n&&V(!1)}).catch(function(o){console.log(o)})},ee=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;k(n)};if((0,r.useEffect)(function(){C&&C.isInitialized&&!d&&k()},[v.pathname]),(0,r.useEffect)(function(){C||Ae()},[C]),(0,r.useEffect)(function(){T==="vs-dark"?document.body.setAttribute("data-dark","true"):document.body.setAttribute("data-dark","false")},[T]),(0,r.useEffect)(function(){W()(),ce();var a=localStorage.getItem("qinglong_dark_theme")||"auto";if(typeof window!="undefined"&&typeof window.matchMedia!="undefined")return B?(Te(fetch),a==="dark"?Me({}):a==="light"?_():De({}),function(){_()}):function(){return null}},[]),(0,r.useEffect)(function(){if(!(!d||!d.username)){O.current=new(oe())("".concat(window.location.origin,"/api/ws?token=").concat(localStorage.getItem(h.Z.authKey))),O.current.onmessage=function(n){try{var o=JSON.parse(n.data);o.type==="ping"&&(o&&o.message==="hanhh"?console.log("WS connection succeeded !!!"):console.log("WS connection Failed !!!",n)),xe(o)}catch(f){console.log("websocket\u8FDE\u63A5\u5931\u8D25",n)}};var a=O.current;return function(){a.close()}}},[d]),(0,r.useEffect)(function(){window.onload=function(){var a=performance.timing;console.log("\u767D\u5C4F\u65F6\u95F4: ".concat(a.responseStart-a.navigationStart)),console.log("\u8BF7\u6C42\u5B8C\u6BD5\u81F3DOM\u52A0\u8F7D: ".concat(a.domInteractive-a.responseEnd)),console.log("\u89E3\u91CAdom\u6811\u8017\u65F6: ".concat(a.domComplete-a.domInteractive)),console.log("\u4ECE\u5F00\u59CB\u81F3load\u603B\u8017\u65F6: ".concat(a.loadEventEnd-a.navigationStart)),se.uT("\u767D\u5C4F\u65F6\u95F4 ".concat(a.responseStart-a.navigationStart))}},[]),ye)return(0,t.jsx)(A.Z,{});if(["/login","/initialization","/error"].includes(v.pathname)&&(document.title="".concat(h.Z.documentTitleMap[v.pathname]," - \u63A7\u5236\u9762\u677F"),C!=null&&C.isInitialized&&v.pathname==="/initialization"&&c.m8.push("/crontab"),C||v.pathname==="/error"))return(0,t.jsx)(c.j3,{context:s()(s()({},u),{},{theme:T,user:d,reloadUser:ee,reloadTheme:$,ws:O.current})});var Be=navigator.userAgent.includes("Firefox"),Le=navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome"),Ie=navigator.userAgent.includes("QQBrowser"),te=(0,t.jsx)(P.Z,{className:"side-menu-user-drop-menu",items:[{label:"\u9000\u51FA\u767B\u5F55",key:"logout",icon:(0,t.jsx)(m.Z,{})}],onClick:Ze});return J?(0,t.jsx)(A.Z,{}):(0,t.jsx)(z.ZP,s()(s()({selectedKeys:[v.pathname],loading:J,ErrorBoundary:re.SV,logo:(0,t.jsx)(N.Z,{preview:!1,src:"http://qn.whyour.cn/logo.png"}),title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{style:{fontSize:16},children:"\u63A7\u5236\u9762\u677F"}),(0,t.jsx)("a",{href:M.N$,target:"_blank",rel:"noopener noreferrer",onClick:function(n){n.stopPropagation()},children:(0,t.jsxs)("span",{style:{fontSize:Be?9:12,color:"#666",marginLeft:2,zoom:Le?.66:.8,letterSpacing:Ie?-2:0},children:["v",M.i8]})})]}),menuItemRender:function(n,o){return n.isUrl||!n.path||v.pathname===n.path?o:(0,t.jsx)(c.rU,{to:n.path,children:o})},pageTitleRender:function(n,o,f){return f&&typeof f.pageName=="string"?"".concat(f.pageName," - \u63A7\u5236\u9762\u677F"):"\u63A7\u5236\u9762\u677F"},onCollapse:w,collapsed:Ce,rightContentRender:function(){return u.isPhone&&(0,t.jsx)(R.Z,{overlay:te,placement:"bottomRight",trigger:["click"],children:(0,t.jsxs)("span",{className:"side-menu-user-wrapper",children:[(0,t.jsx)(Q.C,{shape:"square",size:"small",icon:(0,t.jsx)(g.Z,{}),src:d.avatar?"/api/static/".concat(d.avatar):""}),(0,t.jsx)("span",{style:{marginLeft:5},children:d.username})]})})},collapsedButtonRender:function(n){return(0,t.jsxs)("span",{className:"side-menu-container",onClick:function(f){f.preventDefault(),f.stopPropagation()},children:[!n&&!u.isPhone&&(0,t.jsx)(R.Z,{overlay:te,placement:"topLeft",trigger:["hover"],children:(0,t.jsxs)("span",{className:"side-menu-user-wrapper",children:[(0,t.jsx)(Q.C,{shape:"square",size:"small",icon:(0,t.jsx)(g.Z,{}),src:d.avatar?"/api/static/".concat(d.avatar):""}),(0,t.jsx)("span",{style:{marginLeft:5},children:d.username})]})}),(0,t.jsx)("span",{className:"side-menu-collapse-button",onClick:function(){return w(!n)},children:n?(0,t.jsx)(S.Z,{}):(0,t.jsx)(E.Z,{})})]})}},p),{},{children:(0,t.jsx)(c.j3,{context:s()(s()({},u),{},{theme:T,user:d,reloadUser:ee,reloadTheme:$,socketMessage:Se})})}))}},67411:function(U,x,e){e.d(x,{F:function(){return A},e:function(){return z}});var F=e(46686),s=e.n(F),l=e(63313),y=e.n(l),r=e(63787),z=function(){var D=(0,l.useState)("100%"),i=s()(D,2),t=i[0],p=i[1],c=(0,l.useState)(0),m=s()(c,2),g=m[0],S=m[1],E=(0,l.useState)(-72),h=s()(E,2),j=h[0],L=h[1],W=(0,l.useState)(!1),M=s()(W,2),I=M[0],P=M[1],N=(0,l.useMemo)(function(){return(0,r.ZP)()},[]),R=N.platform;return(0,l.useEffect)(function(){R==="mobile"&&document.body.offsetWidth<768?(p("auto"),S(0),L(0),P(!0)):(p("100%"),S(0),L(-72),P(!1))},[]),{headerStyle:{padding:"4px 16px 4px 15px",position:"sticky",top:0,left:0,zIndex:20,marginTop:j,width:t,marginLeft:g},isPhone:I}},A=function(){var D=(0,l.useState)(),i=s()(D,2),t=i[0],p=i[1],c=function(){var g=window.matchMedia("(prefers-color-scheme: dark)"),S=localStorage.getItem("qinglong_dark_theme"),E=g.matches&&S!=="light"||S==="dark";p(E?"vs-dark":"vs")};return(0,l.useEffect)(function(){var m=window.matchMedia("(prefers-color-scheme: dark)"),g=localStorage.getItem("qinglong_dark_theme"),S=m.matches&&g!=="light"||g==="dark";p(S?"vs-dark":"vs");var E=function(j){(g==="auto"||!g)&&(j.matches?p("vs-dark"):p("vs"))};typeof m.addEventListener=="function"?m.addEventListener("change",E):typeof m.addListener=="function"&&m.addListener(E)},[]),{theme:t,reloadTheme:c}}},4355:function(U,x,e){e.d(x,{N$:function(){return s},i8:function(){return F}});var F="2.14.8",s="https://t.me/jiao_long/335",l=`2.14.8 \u7248\u672C\u8BF4\u660E
1. \u652F\u6301\u73AF\u5883\u53D8\u91CF\u5BFC\u5165\uFF0C\u5BFC\u5165\u683C\u5F0F\u53C2\u8003\u5BFC\u51FA\u6587\u4EF6
2. \u4FEE\u590D\u521B\u5EFA\u4EFB\u52A1\uFF0C\u547D\u4EE4\u4E2D\u7684\u5F15\u53F7\u4E22\u5931
3. \u4FEE\u590D\u8C03\u8BD5\u9009\u62E9\u811A\u672C\u53CA\u8BED\u8A00\u8BC6\u522B
4. \u4FEE\u590Dql\u548Ctask\u547D\u4EE4\u65E5\u5FD7\u6253\u5370
`}}]);
