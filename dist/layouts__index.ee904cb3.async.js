"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1717],{57039:function(A,m,e){var v=e(45968),c=(0,v.Z)({scriptUrl:["//at.alicdn.com/t/font_3354854_ds8pa06q1qa.js"]});m.Z=c},72511:function(A,m,e){e.r(m),e.d(m,{default:function(){return de}});var v=e(30279),c=e.n(v),M=e(46686),x=e.n(M),r=e(63313),V=e(28293),k=e(49660),I=e(71571),X=e(16043),d=e(57039),n=e(11527),Y={route:{routes:[{name:"\u767B\u5F55",path:"/login",hideInMenu:!0,component:"@/pages/login/index"},{name:"\u521D\u59CB\u5316",path:"/initialization",hideInMenu:!0,component:"@/pages/initialization/index"},{name:"\u9519\u8BEF",path:"/error",hideInMenu:!0,component:"@/pages/error/index"},{path:"/crontab",name:"\u5B9A\u65F6\u4EFB\u52A1",icon:(0,n.jsx)(d.Z,{type:"ql-icon-crontab"}),component:"@/pages/crontab/index"},{path:"/subscription",name:"\u8BA2\u9605\u7BA1\u7406",icon:(0,n.jsx)(d.Z,{type:"ql-icon-subs"}),component:"@/pages/subscription/index"},{path:"/env",name:"\u73AF\u5883\u53D8\u91CF",icon:(0,n.jsx)(d.Z,{type:"ql-icon-env"}),component:"@/pages/env/index"},{path:"/config",name:"\u914D\u7F6E\u6587\u4EF6",icon:(0,n.jsx)(d.Z,{type:"ql-icon-config"}),component:"@/pages/config/index"},{path:"/script",name:"\u811A\u672C\u7BA1\u7406",icon:(0,n.jsx)(d.Z,{type:"ql-icon-script"}),component:"@/pages/script/index"},{path:"/dependence",name:"\u4F9D\u8D56\u7BA1\u7406",icon:(0,n.jsx)(d.Z,{type:"ql-icon-dependence"}),component:"@/pages/dependence/index"},{path:"/diff",name:"\u5BF9\u6BD4\u5DE5\u5177",icon:(0,n.jsx)(d.Z,{type:"ql-icon-diff"}),component:"@/pages/diff/index"},{path:"/log",name:"\u4EFB\u52A1\u65E5\u5FD7",icon:(0,n.jsx)(d.Z,{type:"ql-icon-log"}),component:"@/pages/log/index"},{path:"/setting",name:"\u7CFB\u7EDF\u8BBE\u7F6E",icon:(0,n.jsx)(X.Z,{}),component:"@/pages/password/index"}]},navTheme:"light",fixSiderbar:!0,contentWidth:"Fixed",splitMenus:!1,siderWidth:180},f=e(78722),w=e(14880),R=e(98376),b=e(50741),q=e(82670),p=e(98505),y=e(51970),_=e(86563),ee=e.n(_),F=e(35489),z=e(71974),L=e(80743),ne=e(54659),te=e(36533),T=e(6834),D=e(88835),ae=e(78078),oe=e.n(ae),se=e(71068),ie=e(31293),re=e(57886),ue=e(63053),ce=e(30555);function le(){re.S({dsn:"https://3406424fb1dc4813a62d39e844a9d0ac@o1098464.ingest.sentry.io/6122818",integrations:[new ue.jK.gE({shouldCreateSpanForRequest:function(s){return!s.includes("/api/ws")&&!s.includes("/api/static")}})],release:F.i8,tracesSampleRate:.1,beforeBreadcrumb:function(s,C){if(s.data&&s.data.url){var h=s.data.url.replace(/token=.*/,"");s.data.url=h}return s}}),ce._m.config({paths:{vs:"https://cdn.staticfile.org/monaco-editor/0.33.0/min/vs"},"vs/nls":{availableLanguages:{"*":"zh-cn"}}})}function de(){var l=(0,f.TH)(),s=(0,z.e)(),C=(0,z.F)(),h=C.theme,U=C.reloadTheme,fe=(0,r.useState)({}),N=x()(fe,2),u=N[0],ge=N[1],me=(0,r.useState)(!0),P=x()(me,2),O=P[0],E=P[1],pe=(0,r.useState)(),W=x()(pe,2),g=W[0],he=W[1],j=(0,r.useRef)(null),ve=(0,r.useState)(),K=x()(ve,2),xe=K[0],Se=K[1],je=(0,r.useState)(!1),Q=x()(je,2),ye=Q[0],$=Q[1],S=I||{},Fe=S.enable,G=S.disable,Re=S.exportGeneratedCSS,Ce=S.setFetchMethod,Ee=S.auto,Ze=function(){y.W.post("".concat(p.Z.apiPrefix,"user/logout")).then(function(){localStorage.removeItem(p.Z.authKey),f.m8.push("/login")})},Be=function(){y.W.get("".concat(p.Z.apiPrefix,"system")).then(function(t){var o=t.code,i=t.data;o===200?(he(i),i.isInitialized?Z():(f.m8.push("/initialization"),E(!1))):L.ZP.error(i)}).catch(function(t){console.log(t)})},Z=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;t&&E(!0),y.W.get("".concat(p.Z.apiPrefix,"user")).then(function(o){var i=o.code,B=o.data;i===200&&B.username?(ge(B),l.pathname==="/"&&f.m8.push("/crontab")):L.ZP.error(B),t&&E(!1)}).catch(function(o){console.log(o)})},H=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Z(t)};if((0,r.useEffect)(function(){g&&g.isInitialized&&!u&&Z()},[l.pathname]),(0,r.useEffect)(function(){g||Be()},[g]),(0,r.useEffect)(function(){h==="vs-dark"?document.body.setAttribute("data-dark","true"):document.body.setAttribute("data-dark","false")},[h]),(0,r.useEffect)(function(){ee()(),le();var a=localStorage.getItem("qinglong_dark_theme")||"auto";if(!(typeof window>"u")&&!(typeof window.matchMedia>"u"))return I?(Ce(fetch),a==="dark"?Fe({}):a==="light"?G():Ee({}),function(){G()}):function(){return null}},[]),(0,r.useEffect)(function(){if(!(!u||!u.username)){j.current=new(oe())("".concat(window.location.origin,"/api/ws?token=").concat(localStorage.getItem(p.Z.authKey))),j.current.onmessage=function(t){try{var o=JSON.parse(t.data);o.type==="ping"&&(o&&o.message==="hanhh"?console.log("WS connection succeeded !!!"):console.log("WS connection Failed !!!",t)),Se(o)}catch{console.log("websocket\u8FDE\u63A5\u5931\u8D25",t)}};var a=j.current;return function(){a.close()}}},[u]),(0,r.useEffect)(function(){window.onload=function(){var a=performance.timing;console.log("\u767D\u5C4F\u65F6\u95F4: ".concat(a.responseStart-a.navigationStart)),console.log("\u8BF7\u6C42\u5B8C\u6BD5\u81F3DOM\u52A0\u8F7D: ".concat(a.domInteractive-a.responseEnd)),console.log("\u89E3\u91CAdom\u6811\u8017\u65F6: ".concat(a.domComplete-a.domInteractive)),console.log("\u4ECE\u5F00\u59CB\u81F3load\u603B\u8017\u65F6: ".concat(a.loadEventEnd-a.navigationStart)),se.uT("\u767D\u5C4F\u65F6\u95F4 ".concat(a.responseStart-a.navigationStart))}},[]),["/login","/initialization","/error"].includes(l.pathname)&&(document.title="".concat(p.Z.documentTitleMap[l.pathname]," - \u63A7\u5236\u9762\u677F"),g!=null&&g.isInitialized&&l.pathname==="/initialization"&&f.m8.push("/crontab"),g||l.pathname==="/error"))return(0,n.jsx)(f.j3,{context:c()(c()({},s),{},{theme:h,user:u,reloadUser:H,reloadTheme:U,ws:j.current})});var Ae=navigator.userAgent.includes("Firefox"),Me=navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome"),Ie=navigator.userAgent.includes("QQBrowser"),J=(0,n.jsx)(ne.Z,{className:"side-menu-user-drop-menu",items:[{label:"\u9000\u51FA\u767B\u5F55",key:"logout",icon:(0,n.jsx)(w.Z,{})}],onClick:Ze});return O?(0,n.jsx)(k.Z,{}):(0,n.jsx)(V.ZP,c()(c()({selectedKeys:[l.pathname],loading:O,ErrorBoundary:ie.SV,logo:(0,n.jsx)(te.Z,{preview:!1,src:"http://qn.whyour.cn/logo.png"}),title:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{style:{fontSize:16},children:"\u63A7\u5236\u9762\u677F"}),(0,n.jsx)("a",{href:F.N$,target:"_blank",rel:"noopener noreferrer",onClick:function(t){t.stopPropagation()},children:(0,n.jsxs)("span",{style:{fontSize:Ae?9:12,color:"#666",marginLeft:2,zoom:Me?.66:.8,letterSpacing:Ie?-2:0},children:["v",F.i8]})})]}),menuItemRender:function(t,o){return t.isUrl||!t.path||l.pathname===t.path?o:(0,n.jsx)(f.rU,{to:t.path,children:o})},pageTitleRender:function(t,o,i){return i&&typeof i.pageName=="string"?"".concat(i.pageName," - \u63A7\u5236\u9762\u677F"):"\u63A7\u5236\u9762\u677F"},onCollapse:$,collapsed:ye,rightContentRender:function(){return s.isPhone&&(0,n.jsx)(T.Z,{overlay:J,placement:"bottomRight",trigger:["click"],children:(0,n.jsxs)("span",{className:"side-menu-user-wrapper",children:[(0,n.jsx)(D.C,{shape:"square",size:"small",icon:(0,n.jsx)(R.Z,{}),src:u.avatar?"/api/static/".concat(u.avatar):""}),(0,n.jsx)("span",{style:{marginLeft:5},children:u.username})]})})},collapsedButtonRender:function(t){return(0,n.jsxs)("span",{className:"side-menu-container",onClick:function(i){i.preventDefault(),i.stopPropagation()},children:[!t&&!s.isPhone&&(0,n.jsx)(T.Z,{overlay:J,placement:"topLeft",trigger:["hover"],children:(0,n.jsxs)("span",{className:"side-menu-user-wrapper",children:[(0,n.jsx)(D.C,{shape:"square",size:"small",icon:(0,n.jsx)(R.Z,{}),src:u.avatar?"/api/static/".concat(u.avatar):""}),(0,n.jsx)("span",{style:{marginLeft:5},children:u.username})]})}),(0,n.jsx)("span",{className:"side-menu-collapse-button",onClick:function(){return $(!t)},children:t?(0,n.jsx)(b.Z,{}):(0,n.jsx)(q.Z,{})})]})}},Y),{},{children:(0,n.jsx)(f.j3,{context:c()(c()({},s),{},{theme:h,user:u,reloadUser:H,reloadTheme:U,socketMessage:xe})})}))}},35489:function(A,m,e){e.d(m,{N$:function(){return c},i8:function(){return v}});var v="2.14.4",c="https://t.me/jiao_long/331",M=`2.14.4 \u7248\u672C\u8BF4\u660E
1. \u901A\u77E5\u8BBE\u7F6E\u65B0\u589E\u81EA\u5B9A\u4E49\u901A\u77E5
2. \u811A\u672C\u7BA1\u7406\u652F\u6301\u65B0\u5EFA\u6587\u4EF6\u5939
3. \u4F9D\u8D56\u7BA1\u7406\u589E\u52A0\u6279\u91CF\u91CD\u65B0\u5B89\u88C5
4. \u4FEE\u590D\u521B\u5EFA\u5E94\u7528\u9519\u8BEF
`}}]);
